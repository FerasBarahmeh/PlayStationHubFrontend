<section class="page">
  <div class="content">
    <div class="layout shadow-sm">
      <img
        class="avatar"
        src="assets/images/app/auth/login.webp"
        alt="avatar1"
      />
    </div>
    <div class="main-content">
      <div class="content-header">
        <h2>Login in to Exclusive</h2>
        <span>Enter your derails below</span>
      </div>

      <form [formGroup]="loginForm">
        <error>{{ errorMessage ?? "" }}</error>
        <div class="input-group d-flex flex-column mb-3">
          <input
            type="text"
            class="form-control w-100"
            formControlName="username"
            (keydown)="resetBackendErrors()"
            placeholder="Username"
            autofocus
            aria-label="Username"
            aria-describedby="basic-addon1"
          />

          @if(backendErrors && backendErrors['Username']) {
          <errors [listOfErrorMessages]="backendErrors['Username']" />
          }

          <errors
            [control]="loginForm.get('username')"
            inputFieldName="Username"
          />
        </div>

        <div class="input-group d-flex flex-column mb-3">
          <input
            type="password"
            name="password"
            formControlName="password"
            class="form-control w-100"
            placeholder="Password"
            aria-label="Password"
            aria-describedby="basic-addon1"
          />

          @if(backendErrors && backendErrors['Username']) {
          <errors [listOfErrorMessages]="backendErrors['Username']" />
          }
          <errors
            [control]="loginForm.get('password')"
            inputFieldName="Password"
          />
        </div>

        <div class="d-flex justify-content-between">
          <div class="form-check">
            <input
              class="form-check-input pointer"
              type="checkbox"
              [checked]="rememberMe"
              (click)="toggleRememberMe()"
              id="remember-me-checkbox"
            />
            <label
              class="form-check-label text-capitalize pointer"
              for="remember-me-checkbox"
            >
              remember me
            </label>
          </div>

          <div class="text-capitalize text-muted fs-6 pointer">
            forget password ?
          </div>
        </div>

        <div class="mt-5 w-100 d-flex flex-column gap-2">
          <button
            [disabled]="loginForm.invalid"
            (click)="login()"
            class="btn-login btn btn-primary me-auto"
          >
            Login
          </button>
        </div>
      </form>
    </div>
  </div>
</section>
